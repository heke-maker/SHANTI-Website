<div class="form-page-container">
  <div class="form-card">
    <div class="form-header">
      <div class="form-badge">POST</div>
      <h1><%= action_name == 'new' ? '新しいメモを残す' : 'メモを編集する' %></h1>
      <p>今日の活動や、みんなに伝えたいことを自由に書きましょう！</p>
    </div>

    <%# urlの指定を削除し、modelのみにすることで送信先エラーを解消します %>
    <%= form_with(model: @tweet, local: true, class: "styled-form") do |f| %>
      
      <div class="field">
        <%= f.label :title, "タイトル" %>
        <%= f.text_field :title, placeholder: "例：海岸清掃に参加しました！", class: "form-input" %>
      </div>

      <div class="field">
        <%= f.label :category, "カテゴリー" %>
        <%= f.select :category, [["ボランティア", "ボランティア"], ["イベント", "イベント"], ["勉強会", "勉強会"], ["その他", "その他"]], { include_blank: "選択してください" }, { class: "form-select" } %>
      </div>

      <div class="field">
        <%= f.label :about, "内容" %>
        <%= f.text_area :about, rows: 5, placeholder: "活動の感想や詳細を教えてください...", class: "form-textarea" %>
      </div>

      <div class="field-row">
        <div class="field">
          <%= f.label :image, "写真を選択" %>
          <%= f.file_field :image, class: "form-file" %>
        </div>
        
        <div class="field">
          <%= f.label :video, "動画を選択" %>
          <%# 動画もファイルとして送る形式に修正（VideoUploaderを使用しているため） %>
          <%= f.file_field :video, class: "form-file" %>
        </div>
      </div>

      <div class="form-actions">
        <%= f.submit (action_name == 'new' ? "この内容で投稿する" : "更新する"), class: "submit-btn" %>
        <%= link_to "戻る", tweets_path, class: "cancel-link" %>
      </div>

    <% end %>
  </div>
</div>